
{% extends "base_login.html" %}
{% load static %}
{% block content %}
<style>
  .filterDiv {
    float: left;
    background-color: #2196F3;

    text-align: center;
    margin: 2px;
    display: none;
  }
  
  .show {
    display: block;
  }
  
  
  /* Style the buttons */
  .btn {
    font-size: 16pt;
    background-color: #A2CB83;
    border: none;
    outline: none;
    padding: 12px 16px;
    cursor: pointer;
  }
  
  .btn:hover {
    background-color: #ddd;
  }
  
  .btn.active {
    background-color: #aacc6c;
    color: white;
  }
  </style>
<body class="user" onload="sumargripe()">

<div style="height: 3%;"></div>
<label></label>

<div class="container"> 
  <h1 style="text-align: center;">Turnos</h1>
  <br>

  <br>
  <br>
 <div class="row">
    <div class="col-4" style="margin-bottom: 5%; "  data-eventtype="{{vacuna.vacunatorio.nombre}}">
        <p>Gripe</p>

        <p>Cantidad turnos: <p></p>{{turnos_gripe}}</p>
       </div>
    
       <div class="col-4" style="margin-bottom: 5%; "  data-eventtype="{{vacuna.vacunatorio.nombre}}">
        <p>Covid 19</p>

        <p>Cantidad turnos: <p></p>{{turnos_covid}}</p>
       </div>

       <div class="col-4" style="margin-bottom: 5%; "  data-eventtype="{{vacuna.vacunatorio.nombre}}">
        <p>Fiebre amarilla</p>

        <p>Cantidad turnos: <p></p>{{turnos_fieb}}</p>
       </div>
       
 </div>

<form action="/eliminar_vacuna_stock/" method="POST" id="edit_form">{% csrf_token %}
 <div class="modal fade" id="modalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
   aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
       <div class="modal-header text-center" style="background: #a2cb83d8;">
         <h4 class="modal-title w-100 font-weight-bold">Eliminar vacuna</h4>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true"></span>
         </button>
       </div>
       <div class="modal-body mx-3">

         <div class="md-form mb-4">
           
           <label data-error="wrong" data-success="right" for="defaultForm-pass">Tipo</label>
           <input  id="TipoE" name="Tipo" class="form-control validate" readonly>

         </div>
         <div class="md-form mb-4">
           
          <label data-error="wrong" data-success="right" for="defaultForm-pass">Vacunatorio</label>
          <input  id="lugarE" name="lugar" class="form-control validate" readonly>

        </div>
     
           <div class="md-form mb-4">
             
             <label data-error="wrong" data-success="right" for="defaultForm-email">Cantidad</label>
             <input type="number" id="cantidad" name="Cantidad" class="form-control validate" required>
             
           </div>

       </div>
       <div class="modal-footer d-flex justify-content-center">
         <button type="submit" class="button2 btn-default" style=" background-color: rgb(189, 0, 0); box-shadow:inset 0px 34px 0px -15px  rgb(180, 67, 67); min-width: 100%;">Aceptar</button>
       </div>
     </div>
   </div>
 </div>
</form>

<form action="/cargar_vacuna_stock/" method="POST" id="edit_form">{% csrf_token %}
 <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
   aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
       <div class="modal-header text-center" style="background: #a2cb83d8;">
         <h4 class="modal-title w-100 font-weight-bold">Cargar vacuna</h4>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true"></span>
         </button>
       </div>
       <div class="modal-body mx-3">

         <div class="md-form mb-4">
           
           <label data-error="wrong" data-success="right" for="defaultForm-pass">Tipo</label>
           <input  id="Tipo" name="Tipo" class="form-control validate" readonly>

         </div>
         <div class="md-form mb-4">
           
          <label data-error="wrong" data-success="right" for="defaultForm-pass">Vacunatorio</label>
          <input  id="lugar" name="lugar" class="form-control validate" readonly>

        </div>
     
           <div class="md-form mb-4">
             
             <label data-error="wrong" data-success="right" for="defaultForm-email">Cantidad</label>
             <input type="number" id="cantidad" name="Cantidad" class="form-control validate" required>
             
           </div>

       </div>
       <div class="modal-footer d-flex justify-content-center">
         <button type="submit" class="button2 btn-default" style="min-width: 100%;">Aceptar</button>
       </div>
     </div>
   </div>
 </div>
</form>

{% if mensaje != "" %}
{% if mensaje != None %}
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{ mensaje }}
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>
<script type="text/javascript" language="JavaScript">
    let myModal = new bootstrap.Modal(document.getElementById('exampleModalCenter'), {});
    myModal.show();
</script>
{% endif %}
{% endif %}


<script>  


    // si la respuesta que se espera es sumar
    function sumargripe(){
        var numerog1 = parseInt(document.getElementById('GripeCorralón Municipal').value);
        var numerog2 = parseInt(document.getElementById('GripePolideportivo').value);
        var numerog3 = parseInt(document.getElementById('GripeHospital 9 de julio').value);
        var suma1 = numerog1+numerog2+numerog3;
        $('#gripeTodos').text(suma1);

        var numeroc1 = document.getElementById('COVID-19Corralón Municipal').value;
        var numeroc2 = document.getElementById('COVID-19Polideportivo').value;
        var numeroc3 = document.getElementById('COVID-19Hospital 9 de julio').value;
        var suma2 = parseInt(numeroc1)+parseInt(numeroc2)+parseInt(numeroc3);
        $('#CovidTodos').text(suma2);
        
        var numerof1 = document.getElementById('Fiebre_amarillaCorralón Municipal').value;
        var numerof2 = document.getElementById('Fiebre_amarillaPolideportivo').value;
        var numerof3 = document.getElementById('Fiebre_amarillaHospital 9 de julio').value;
        var suma3 = parseInt(numerof1)+parseInt(numerof2)+parseInt(numerof3);
        $('#FATodos').text(suma3);
        } 
 
</script>

  
 
<script> 
function myFunction4(eve){
  var firstValue = eve.id;
  var tipo = firstValue.substr(firstValue.length -1);
  firstValue = firstValue.slice(0,-1);
  var secondValue = eve.value;
  console.log(secondValue);
  console.log(firstValue);
  if (tipo === "C") {
    $("#Tipo").val(secondValue);
    $("#lugar").val(firstValue);
  } else {
    $("#TipoE").val(secondValue);
    $("#lugarE").val(firstValue);
  }

}
</script>

</body>

{% endblock %}